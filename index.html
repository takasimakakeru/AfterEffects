<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- head内 -->
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#111111" />
<link rel="apple-touch-icon" href="assets/icons/icon-192.png" />

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>After Effects Web</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="app-wrapper">
    <header class="top-bar">
      <h1>After Effects Web</h1>
      <div class="menu-bar">
        <button id="new-project">新規</button>
        <button id="save-project">保存</button>
        <button id="load-project">読み込み</button>
      </div>
    </header>

    <div class="main-area">
      <!-- プロジェクトパネル -->
      <aside class="project-panel">
        <h2>プロジェクト</h2>
        <ul id="project-list"></ul>
        <button id="import-btn">インポート</button>
      </aside>

      <!-- コンポジションビュー -->
      <section class="composition-view">
        <canvas id="composition-canvas" width="960" height="540"></canvas>
        <div class="controls">
          <button onclick="window.composition.playComposition()">▶ Play</button>
          <button id="pause-btn">⏸</button>
          <input type="range" id="timeline-slider" min="0" max="100" value="0" />
        </div>
      </section>

      <!-- エフェクト＆レイヤーパネル -->
      <aside class="effect-layer-panel">
        <h2>エフェクト</h2>
        <div id="effect-controls"></div>
        <h2>レイヤー</h2>
        <ul id="layer-list"></ul>
      </aside>
    </div>

    <!-- タイムライン -->
    <footer class="timeline">
      <div class="timeline-header">
        <div class="time-markers">
          <!-- 時間軸（例: 0s 1s 2s...）をここにJSで生成 -->
        </div>
      </div>
      <div class="timeline-body" id="timeline-body">
        <div id="timeline">
          <div id="tracks"></div>
          <div id="scrubber"></div>
        </div>
        
      </div>
    </footer>
  </div>

  <script src="js/main.js"></script>
  <script src="js/timeline.js"></script>
  <script src="js/composition.js"></script>
  <script src="js/project.js"></script>
  <script src="js/effects.js"></script>
  <script src="js/animation.js"></script>
  <script src="js/layers.js"></script>
  <!-- bodyの最後 -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log('SW登録成功:', reg.scope))
        .catch(err => console.error('SW登録失敗:', err));
    });
  }
</script>
</body>
</html>
